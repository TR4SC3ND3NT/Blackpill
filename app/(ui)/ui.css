/* Tailwind v4: theme variables live in a separate layer. Import them explicitly. */
@import "tailwindcss/theme" layer(theme);

@tailwind base;
@tailwind components;

/* Scope Tailwind utilities to the UI layer to avoid collisions with the main app. */
.bp {
  @tailwind utilities;
}

/* Scoped tokens + minimal "base" defaults for Tailwind CSS variables (preflight is disabled). */
.bp {
  --bp-sidebar-w: min(320px, 100vw);
  --bp-muted: #72838c;
  --bp-discord: #5865f2;
  --bp-header-h: 3.5rem; /* 56px */
  --bp-content-py: 1.5rem; /* 24px */
  --bp-content-py-sm: 2rem; /* 32px */

  /* FaceIQ-style glass theme (scoped to /ui). */
  --bp-bg-page: #f6f7fb;
  --bp-bg-page-2: #eef2f9;
  --bp-surface: rgba(255, 255, 255, 0.72);
  --bp-surface-2: rgba(255, 255, 255, 0.6);
  --bp-border: rgba(15, 23, 42, 0.1);
  --bp-border-strong: rgba(15, 23, 42, 0.18);
  --bp-shadow: 0 8px 24px rgba(15, 23, 42, 0.06);
  --bp-shadow-lg: 0 24px 60px rgba(15, 23, 42, 0.12);
  --bp-highlight: rgba(255, 255, 255, 0.65);
  --bp-highlight-soft: rgba(255, 255, 255, 0.28);
  --bp-accent-blue: #4c81ff;
  --bp-accent-orange: #ff8a4c;

  font-family:
    var(--font-manrope),
    ui-sans-serif,
    system-ui,
    -apple-system,
    "Segoe UI",
    Roboto,
    Helvetica,
    Arial,
    "Apple Color Emoji",
    "Segoe UI Emoji";
}

.bp.bp-compact {
  --bp-header-h: 3.25rem; /* 52px */
  --bp-content-py: 1rem; /* 16px */
  --bp-content-py-sm: 1.25rem; /* 20px */
}

.bp.bp-reduce-motion *,
.bp.bp-reduce-motion *::before,
.bp.bp-reduce-motion *::after {
  animation-duration: 0.001ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.001ms !important;
  scroll-behavior: auto !important;
}

.bp *,
.bp *::before,
.bp *::after {
  --tw-border-spacing-x: 0;
  --tw-border-spacing-y: 0;
  --tw-translate-x: 0;
  --tw-translate-y: 0;
  --tw-rotate: 0;
  --tw-skew-x: 0;
  --tw-skew-y: 0;
  --tw-scale-x: 1;
  --tw-scale-y: 1;
  --tw-pan-x: ;
  --tw-pan-y: ;
  --tw-pinch-zoom: ;
  --tw-scroll-snap-strictness: proximity;
  --tw-gradient-from-position: ;
  --tw-gradient-via-position: ;
  --tw-gradient-to-position: ;
  --tw-ordinal: ;
  --tw-slashed-zero: ;
  --tw-numeric-figure: ;
  --tw-numeric-spacing: ;
  --tw-numeric-fraction: ;
  --tw-ring-inset: ;
  --tw-ring-offset-width: 0px;
  --tw-ring-offset-color: #fff;
  --tw-ring-color: rgb(59 130 246 / 0.5);
  --tw-ring-offset-shadow: 0 0 #0000;
  --tw-ring-shadow: 0 0 #0000;
  --tw-shadow: 0 0 #0000;
  --tw-shadow-colored: 0 0 #0000;
  --tw-blur: ;
  --tw-brightness: ;
  --tw-contrast: ;
  --tw-grayscale: ;
  --tw-hue-rotate: ;
  --tw-invert: ;
  --tw-saturate: ;
  --tw-sepia: ;
  --tw-drop-shadow: ;
  --tw-backdrop-blur: ;
  --tw-backdrop-brightness: ;
  --tw-backdrop-contrast: ;
  --tw-backdrop-grayscale: ;
  --tw-backdrop-hue-rotate: ;
  --tw-backdrop-invert: ;
  --tw-backdrop-opacity: ;
  --tw-backdrop-saturate: ;
  --tw-backdrop-sepia: ;
}

.bp .bp-ui-bg {
  position: fixed;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(1000px 700px at 12% 12%, rgba(76, 129, 255, 0.16) 0%, transparent 60%),
    radial-gradient(900px 650px at 92% 18%, rgba(255, 138, 76, 0.15) 0%, transparent 62%),
    radial-gradient(900px 700px at 55% 115%, rgba(76, 129, 255, 0.1) 0%, transparent 60%),
    linear-gradient(180deg, var(--bp-bg-page) 0%, var(--bp-bg-page-2) 55%, var(--bp-bg-page) 100%);
}

.bp .bp-glass-card {
  position: relative;
  overflow: hidden;
  border-radius: 20px !important;
  background: var(--bp-surface) !important;
  border: 1px solid rgba(255, 255, 255, 0.55) !important;
  box-shadow:
    var(--bp-shadow),
    inset 0 1px 0 rgba(255, 255, 255, 0.55),
    inset 0 -1px 0 rgba(15, 23, 42, 0.04),
    inset 0 0 12px 6px rgba(255, 255, 255, 0.25) !important;
}

.bp .bp-glass-card::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(ellipse 140% 90% at 0% 0%, var(--bp-highlight) 0%, transparent 55%),
    radial-gradient(ellipse 90% 70% at 100% 0%, var(--bp-highlight-soft) 0%, transparent 62%);
  opacity: 0.55;
}

.bp .bp-glass-card::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  box-shadow:
    inset 1px 1px 0 rgba(255, 255, 255, 0.55),
    inset -1px -1px 0 rgba(15, 23, 42, 0.05);
  opacity: 0.7;
}

.bp .bp-glass-panel {
  position: relative;
  overflow: hidden;
  background: rgba(255, 255, 255, 0.62) !important;
  border: 1px solid rgba(255, 255, 255, 0.5) !important;
  box-shadow:
    0 8px 28px rgba(15, 23, 42, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.5) !important;
}

.bp .bp-glass-header {
  border-radius: 0 !important;
  border: none !important;
  border-bottom: 1px solid rgba(255, 255, 255, 0.45) !important;
}

@supports ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))) {
  .bp .bp-glass-card {
    backdrop-filter: blur(18px) saturate(1.06);
    -webkit-backdrop-filter: blur(18px) saturate(1.06);
  }

  .bp .bp-glass-panel {
    backdrop-filter: blur(16px) saturate(1.06);
    -webkit-backdrop-filter: blur(16px) saturate(1.06);
  }
}
